/* =======================
BACKGROUNDS & COLORS
======================= */
:root {
  --tabpanel-background-color: transparent !important;
  --chrome-content-separator-color: transparent !important;
  --toolbar-bgcolor: transparent !important;
  --tab-selected-bgcolor: rgba(0, 0, 0, 0.3) !important;
  --focus-outline-color: color-mix(in srgb, AccentColor 100%, transparent) !important;
  --toolbarbutton-icon-fill-attention: color-mix(in srgb, AccentColor 100%, transparent) !important;
  --arrowpanel-background: rgb(35, 35, 35) !important;
  --arrowpanel-border-color: color-mix(in srgb, AccentColor 100%, transparent) !important;
  --arrowpanel-color: white !important;
}

/* =======================
NO BORDERS, NO SHADOWS
======================= */
:where(#main-window,
#navigator-toolbox,
#nav-bar,
#TabsToolbar,
#PersonalToolbar,
#urlbar,
#urlbar-background,
#urlbar-container,
#urlbar[open] > #urlbar-background,
#urlbar-results,
#urlbar-results .urlbarView,
#urlbar-results .urlbarView-body,
#urlbar-results .urlbarView-row,
#browser,
#appcontent,
#browserContainer,
#tabbrowser-tabpanels,
.webRenderCompositor,
.tab-content,
.tab-label-container,
#tabbrowser-tabbox,
#tabbrowser-arrowscrollbox,
.tabbrowser-tabs,
#content,
#content > *,
.browserContainer,
.browserStack,
#webrtcIndicator) {
  box-shadow: none !important;
  border: none !important;
  filter: none !important;
}

panel[arrowpanel] {
  background-color: var(--arrowpanel-background) !important;
  border: 1px solid var(--arrowpanel-border-color) !important;
  color: var(--arrowpanel-color) !important;
}

/* =======================
TABS
======================= */
.titlebar-spacer[type="pre-tabs"] {
  display: none !important;
}

.titlebar-spacer[type="post-tabs"] {
  width: 40px !important;
}

.tabbrowser-tab[selected="true"] .tab-background {
  border: 1px solid color-mix(in srgb, AccentColor 100%, transparent) !important;
  box-shadow: none !important;
}

.tabbrowser-tab:not([selected]) .tab-icon-image {
  opacity: 0.2 !important;
}

.tabbrowser-tab .tab-close-button {
  visibility: hidden !important;
}

.tabbrowser-tab:hover .tab-close-button {
  visibility: visible !important;
}

.tabbrowser-tab:hover .tab-text {
  opacity: 1.0 !important;
}

/* =======================
URLBAR
======================= */
#urlbar[breakout] > #urlbar-background,
#urlbar-results,
#urlbar-results .urlbarView,
#urlbar-results .urlbarView-body,
#urlbar-results .urlbarView-row {
  background: transparent !important;
}

#urlbar[open] > #urlbar-background {
  background: rgb(22, 22, 22) !important;
  border-radius: 10px !important;
  border: 1px solid color-mix(in srgb, AccentColor 100%, transparent) !important;
  box-shadow: none !important;
}

#urlbar[open] #urlbar-results,
#urlbar[open] #urlbar-results .urlbarView,
#urlbar[open] #urlbar-results .urlbarView-body,
#urlbar[open] #urlbar-results .urlbarView-row {
  background: transparent !important;
  box-shadow: none !important;
  border-radius: 7px !important;
  margin-bottom: 1px;
}

#urlbar-searchmode-switcher {
  background-color: transparent !important;
}

/* =======================
URLBAR ICONS
======================= */
#identity-box,
#tracking-protection-icon-container {
  background-color: transparent !important;
  visibility: hidden !important;
  opacity: 0 !important;
  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out !important;
}

#urlbar-container:hover #identity-box,
#urlbar-container:hover #tracking-protection-icon-container,
#urlbar[open] #identity-box,
#urlbar[open] #tracking-protection-icon-container {
  visibility: visible !important;
  opacity: 1 !important;
}

#star-button-box {
  opacity: 0 !important;
  visibility: hidden !important;
  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out !important;
}

#urlbar-container:hover #star-button-box,
#urlbar[open] #star-button-box {
  opacity: 1 !important;
  visibility: visible !important;
}

#identity-icon-box label {
  display: none !important;
}

#urlbar-container toolbarbutton,
#urlbar toolbarbutton {
  background: transparent !important;
  box-shadow: none !important;
  opacity: 0.5 !important;
  transition: opacity 0.2s ease-in-out !important;
}

#urlbar-container toolbarbutton:hover,
#urlbar toolbarbutton:hover,
#urlbar[open] toolbarbutton {
  opacity: 1 !important;
}

/* =======================
TOOLBAR BUTTONS
======================= */
#nav-bar toolbarbutton {
  background: transparent !important;
  box-shadow: none !important;
  opacity: 0.5 !important;
  transition: opacity 0.2s ease-in-out !important;
}

#nav-bar toolbarbutton:hover {
  opacity: 1 !important;
}

/* =======================
URLBAR INPUT
======================= */
.urlbar-input-box {
  display: flex !important;
  justify-content: center !important;
}

.urlbar-input {
  text-align: center !important;
}
